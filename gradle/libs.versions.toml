[versions]
# Plugins
config = "6.0.7"
detekt = "1.23.8"
kotlinter = "5.4.0"
kotlin = "2.3.10"
kover = "0.9.6"
protobuf = "0.9.6"
shadow = "8.3.7"
versions = "0.53.0"

# Libraries
annotation = "1.3.2"
datetime = "0.7.1-0.6.x-compat"
dropwizard = "4.2.37"
gengrpc = "1.5.0"
grpc = "1.79.0"
jcommander = "3.0"
jetty = "10.0.26"
kotest = "6.1.3"
ktor = "3.4.0"
logback = "1.5.28"
logging = "7.0.14"
mockk = "1.14.9"
prometheus = "0.16.0"
# Keep in sync with grpc
protoc = "4.33.5"
serialization = "1.9.0"
slf4j = "2.0.13"
# Keep in sync with grpc
tcnative = "2.0.74.Final"
typesafe = "1.4.5"
utils = "2.4.13"
zipkin = "6.3.0"

[libraries]
# Kotlin
kotlin-bom = { module = "org.jetbrains.kotlin:kotlin-bom", version.ref = "kotlin" }
kotlin-reflect = { module = "org.jetbrains.kotlin:kotlin-reflect" }

kotlinx-datetime = { module = "org.jetbrains.kotlinx:kotlinx-datetime", version.ref = "datetime" }
kotlinx-serialization = { module = "org.jetbrains.kotlinx:kotlinx-serialization-json", version.ref = "serialization" }

# gRPC
grpc-bom = { module = "io.grpc:grpc-bom", version.ref = "grpc" }
grpc-netty = { module = "io.grpc:grpc-netty-shaded" }
grpc-protobuf = { module = "io.grpc:grpc-protobuf" }
grpc-stub = { module = "io.grpc:grpc-stub" }
grpc-services = { module = "io.grpc:grpc-services" }

grpc-kotlin-stub = { module = "io.grpc:grpc-kotlin-stub", version.ref = "gengrpc" }
netty-tcnative = { module = "io.netty:netty-tcnative-boringssl-static", version.ref = "tcnative" }

# Common Utils
common-utils-bom = { module = "com.github.pambrose.common-utils:common-utils-bom", version.ref = "utils" }
common-utils-core = { module = "com.github.pambrose.common-utils:core-utils" }
common-utils-dropwizard = { module = "com.github.pambrose.common-utils:dropwizard-utils" }
common-utils-guava = { module = "com.github.pambrose.common-utils:guava-utils" }
common-utils-grpc = { module = "com.github.pambrose.common-utils:grpc-utils" }
common-utils-jetty = { module = "com.github.pambrose.common-utils:jetty-utils" }
common-utils-ktor-client = { module = "com.github.pambrose.common-utils:ktor-client-utils" }
common-utils-prometheus = { module = "com.github.pambrose.common-utils:prometheus-utils" }
common-utils-service = { module = "com.github.pambrose.common-utils:service-utils" }
common-utils-zipkin = { module = "com.github.pambrose.common-utils:zipkin-utils" }

# Jetty
jetty-servlet = { module = "org.eclipse.jetty:jetty-servlet", version.ref = "jetty" }

# Misc
annotation-api = { module = "javax.annotation:javax.annotation-api", version.ref = "annotation" }
jcommander = { module = "org.jcommander:jcommander", version.ref = "jcommander" }
typesafe-config = { module = "com.typesafe:config", version.ref = "typesafe" }

# Prometheus
prometheus-simpleclient = { module = "io.prometheus:simpleclient", version.ref = "prometheus" }

# Ktor
ktor-bom = { module = "io.ktor:ktor-bom", version.ref = "ktor" }
ktor-client = { module = "io.ktor:ktor-client" }
ktor-client-cio = { module = "io.ktor:ktor-client-cio" }
ktor-client-auth = { module = "io.ktor:ktor-client-auth" }
ktor-network = { module = "io.ktor:ktor-network" }
ktor-network-tls = { module = "io.ktor:ktor-network-tls" }
ktor-server = { module = "io.ktor:ktor-server" }
ktor-server-cio = { module = "io.ktor:ktor-server-cio" }
ktor-server-call-logging = { module = "io.ktor:ktor-server-call-logging" }
ktor-server-compression = { module = "io.ktor:ktor-server-compression" }

# Dropwizard
dropwizard-metrics = { module = "io.dropwizard.metrics:metrics-healthchecks", version.ref = "dropwizard" }

# Zipkin
zipkin-brave = { module = "io.zipkin.brave:brave-instrumentation-grpc", version.ref = "zipkin" }

# Protobuf
protobuf-kotlin = { module = "com.google.protobuf:protobuf-kotlin", version.ref = "protoc" }

# Logging
kotlin-logging = { module = "io.github.oshai:kotlin-logging", version.ref = "logging" }
logback-classic = { module = "ch.qos.logback:logback-classic", version.ref = "logback" }
slf4j-jul = { module = "org.slf4j:jul-to-slf4j", version.ref = "slf4j" }

# Testing
kotest = { module = "io.kotest:kotest-runner-junit5", version.ref = "kotest" }
mockk = { module = "io.mockk:mockk", version.ref = "mockk" }

[plugins]
kotlin-jvm = { id = "org.jetbrains.kotlin.jvm", version.ref = "kotlin" }
kotlin-serialization = { id = "org.jetbrains.kotlin.plugin.serialization", version.ref = "kotlin" }
protobuf = { id = "com.google.protobuf", version.ref = "protobuf" }
kotlinter = { id = "org.jmailen.kotlinter", version.ref = "kotlinter" }
versions = { id = "com.github.ben-manes.versions", version.ref = "versions" }
shadow = { id = "com.gradleup.shadow", version.ref = "shadow" }
buildconfig = { id = "com.github.gmazzo.buildconfig", version.ref = "config" }
kover = { id = "org.jetbrains.kotlinx.kover", version.ref = "kover" }
detekt = { id = "io.gitlab.arturbosch.detekt", version.ref = "detekt" }

[bundles]
ktor = [
  "ktor-client",
  "ktor-client-cio",
  "ktor-client-auth",
  "ktor-network",
  "ktor-network-tls",
  "ktor-server",
  "ktor-server-cio",
  "ktor-server-call-logging",
  "ktor-server-compression"
]

grpc = [
  "grpc-netty",
  "grpc-protobuf",
  "grpc-stub",
  "grpc-services"
]

common-utils = [
  "common-utils-core",
  "common-utils-dropwizard",
  "common-utils-guava",
  "common-utils-grpc",
  "common-utils-jetty",
  "common-utils-ktor-client",
  "common-utils-prometheus",
  "common-utils-jetty",
  "common-utils-service",
  "common-utils-zipkin"
]
